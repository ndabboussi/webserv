server 
{
    listen 8080 8083;
    server_name localhost;
    allow_methods GET;
    root /conf/data/test;
    max_client_body_size 10000000;

    error_page 404 /error/404.html;

    location / {
        index index.html;
    }

    location /about {
        index about.html;
    }

    location /contact
    {
        index contact.html;
        auto_index;
    }

	location /register {
		allow_methods POST;
	}

    location /logout {
		allow_methods POST;
	}

	location /login {
		allow_methods POST;
	}

    location /upload {

        auto_index;
        allow_methods GET POST DELETE;

        location /account {
            alias /conf/data/test/upload/database;
            auto_index;
        }
    }

    location /images {
        root /etc/data;
        auto_index;
    }

    location /pictures {
        alias /conf/data/test/images;
        auto_index;
        allow_methods GET;
    }

    location /cgi-bin {
        allow_methods GET POST DELETE;
        index time.py;
        cgi_ext .py .php .sh .cgi;
        cgi_path /usr/bin/python3 /usr/bin/php-cgi /bin/bash;
    }
}

server 
{
    listen 8081 8083;
    server_name blog.local;
    root /conf/data/test/blog;
    allow_methods GET POST;
    index index.html;

    location /
    {
        index index.html;
        allow_methods GET POST;
    }

    location /upload
    {
        allow_methods POST DELETE;
    }

    location /post1
    {
        index post1.html;
    }

    location /testpost.html
    {
        allow_methods GET;
    }
}

server 
{
    listen 8082;
    server_name cdn.local;
    root /conf/data/test/images;
    allow_methods GET;

    location / {
    }
}
